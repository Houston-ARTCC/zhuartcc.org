{% extends 'secondaryTemplate.html' %}
{% load static %}
{% load api_filters %}

{% block header %}
    <h2 style="font-size: 40px">All connections for</h2>
    <h1 style="font-size: 65px">{{ user.return_full_name }}</h1>
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-4">
            <div class="card">
                <div class="card-body text-center">
                    <h2 style="font-size: 25px">{% now 'F' %} Hours</h2>
                    <h1 style="font-size: 50px">{{ stats.month|duration|default:'<span class="text-muted">N/A</span>'|safe }}</h1>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card">
                <div class="card-body text-center">
                    <h2 style="font-size: 25px">{% now 'Y' %} Hours</h2>
                    <h1 style="font-size: 50px">{{ stats.year|duration|default:'<span class="text-muted">N/A</span>'|safe }}</h1>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card">
                <div class="card-body text-center">
                    <h2 style="font-size: 25px">Total Hours</h2>
                    <h1 style="font-size: 50px">{{ stats.total|duration|default:'<span class="text-muted">N/A</span>'|safe }}</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body text-center p-5">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th class="border-0" style="width: 33.3%">Date / Time</th>
                                <th class="border-0" style="width: 33.3%">Callsign</th>
                                <th class="border-0" style="width: 33.3%">Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for connection in all_connections %}
                                <tr>
                                    <td style="width: 33.3%">{{ connection.time_logon|date:'M d, Y @ Hi\z' }}</td>
                                    <td style="width: 33.3%">{{ connection.callsign }}</td>
                                    <td style="width: 33.3%">{{ connection.duration|duration }}</td>
                                </tr>
                            {% empty %}
                                <tr>
                                    <td colspan="3"><i>No connections found...</i></td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}